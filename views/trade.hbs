<!DOCTYPE html>
<html>
<head>
  <title>Home</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/trade.css">
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="/js/trade.js"></script>
  <script>
    charOwned = {{{json charOwned}}};
    armOwned = {{{json armOwned}}};
    shieldOwned = {{{json shieldOwned}}};
    weapOwned = {{{json weapOwned}}};

    function loadoutChange(order, space) {
  switch (slot) {
    case 0:
      if (order == 1) {
        if (currChar != charOwned.length - 1) currChar += 1;
        else currChar = 0;
      }
      else {
        if (currChar != 0) currChar -= 1;
        else currChar = charOwned.length - 1;
      }
      changeCharName(space);
      break;
    case 1:
      if (order == 1) {
        if (currWeapon != weapOwned.length - 1) currWeapon += 1;
        else currWeapon = 0;
      }
      else {
        if (currWeapon != 0) currWeapon -= 1;
        else currWeapon = weapOwned.length - 1;
      }
      changeWeapName(space);
      break;
    case 2:
      if (order == 1) {
        if (currShield != shieldOwned.length - 1) currShield += 1;
        else currShield = 0;
      }
      else {
        if (currShield != 0) currShield -= 1;
        else currShield = shieldOwned.length - 1;
      }
      changeShiName(space);
      break;
    case 3:
      if (order == 1) {
        if (currArmor != armOwned.length - 1) currArmor += 1;
        else currArmor = 0;
      }
      else {
        if (currArmor != 0) currArmor -= 1;
        else currArmor = armOwned.length - 1;
      }
      changeArmName(space);
      break;
  }
}
  </script>
</head>
<body>
  {{> header username=username}}

  <div class="tradebox">
    <div class="headertext"> Trade Setup </div>
    <hr>
    <div id="cont1">

      <div class="rowcontainer">
        <button onClick="changeSlot(0,1);" class="changeButton" style="margin-right: 10px"> Prev </button>
        <div class="detail" id="slotname1"></div>
        <button onClick="changeSlot(1,1);" class="changeButton" style="margin-left: 10px"> Next </button>
      </div>
      <div class="rowcontainer" style="margin-top: 10px">
        <button onClick="loadoutChange(0,1);" class="changeButton" style="margin-right: 10px"> Prev </button>
        <div class="detail" id="name1"></div>
        <button onClick="loadoutChange(1,1);" class="changeButton" style="margin-left: 10px"> Next </button>
      </div>

    </div>
    <div class="tcont" id="cont2" style="height: 0px;">

      <div class="rowcontainer">
        <button onClick="changeSlot(0,2);" class="changeButton" style="margin-right: 10px"> Prev </button>
        <div class="detail" id="slotname2"></div>
        <button onClick="changeSlot(1,2);" class="changeButton" style="margin-left: 10px"> Next </button>
      </div>
      <div class="rowcontainer" style="margin-top: 10px; overflow-y: hidden">
        <button onClick="loadoutChange(0,2);" class="changeButton" style="margin-right: 10px"> Prev </button>
        <div class="detail" id="name2"></div>
        <button onClick="loadoutChange(1,2);" class="changeButton" style="margin-left: 10px"> Next </button>
      </div>

    </div>

    <div class="tcont" id="cont3" style="height: 0px;">

      <div class="rowcontainer">
        <button onClick="changeSlot(0,3);" class="changeButton" style="margin-right: 10px"> Prev </button>
        <div class="detail" id="slotname3"></div>
        <button onClick="changeSlot(1,3);" class="changeButton" style="margin-left: 10px"> Next </button>
      </div>
      <div class="rowcontainer" style="margin-top: 10px">
        <button onClick="loadoutChange(0,3);" class="changeButton" style="margin-right: 10px"> Prev </button>
        <div class="detail" id="name3"></div>
        <button onClick="loadoutChange(1,3);" class="changeButton" style="margin-left: 10px"> Next </button>
      </div>

    </div>

    <div class="tcont" id="cont4" style="height: 0px;">

      <div class="rowcontainer">
        <button onClick="changeSlot(0,4);" class="changeButton" style="margin-right: 10px"> Prev </button>
        <div class="detail" id="slotname4"></div>
        <button onClick="changeSlot(1,4);" class="changeButton" style="margin-left: 10px"> Next </button>
      </div>
      <div class="rowcontainer" style="margin-top: 10px">
        <button onClick="loadoutChange(0,4);" class="changeButton" style="margin-right: 10px"> Prev </button>
        <div class="detail" id="name4"></div>
        <button onClick="loadoutChange(1,4);" class="changeButton" style="margin-left: 10px"> Next </button>
      </div>

    </div>

    <div class="rowcontainer" style="margin-top: 10px">
      <button onClick="plus();" class="changeButton" id="plusButt" style="width:50px; margin-top:10px;"> + </button>
    </div>

    <hr>
    <div class="headertext" style="font-size:25px">Write something about it!</div>
    <textarea name="Text1" cols="40" rows="5" style="margin-bottom: 10px"></textarea>
    <button onClick="post();" class="bottombutton">SUBMIT</button>
  </div>

  <div class="tradebox" style="margin-bottom: 50px; margin-top: 15px">
    <div class="headertext"> Trade Offers </div>
    <hr>
    <div class="rowcontainer">
      <div class="colcontainer" style="margin-left: 10px">
        <div class="headertext" style="font-size: 25px;"> Posted Items </div>
        <hr>
        <button onClick="changeContent(0);" class="bottombutton" id="trade1" style="height:30px">Offer 1</button>
        <button onClick="changeContent(1);" class="bottombutton" id="trade2" style="height:30px">Offer 2</button>
        <button onClick="changeContent(2);" class="bottombutton" id="trade3" style="height:30px">Offer 3</button>
      </div>
      <div class="colcontainer" id="itemdisp" style="overflow: hidden; width:0; transition: .5s ease; height: 170px; opacity:0;">
        <div class="headertext" style="font-size: 25px; overflow: hidden;" > Posted Items </div>
        <hr>
        <div class="headertext" style="font-size: 20px; font-weight: bold" id="dispitem"></div>
        <div class="headertext" style="font-size: 20px; color:#8fbcbb; font-weight: bold">Offers</div>
        <div class="headertext" style="font-size: 20px;" id="offers"></div>
        <button onClick="accept();" class="bottombutton" id="trade3">Accept</button>
      </div>
    </div>
  </div>
</body>
</html>
